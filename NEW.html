<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEW | E C L I P S E</title>
    <link href="https://fonts.googleapis.com/css2?family=Gilda+Display&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="carrito.js" defer></script>
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
</head>

<body>
<header>
    <h1 class="titulo">
        <a href="index.html" style="text-decoration: none; color: inherit;">E C L I P S E</a>
    </h1>
    <nav class="menu">
        <a href="index.html" class="link-menu">Inicio</a>
        <a href="NEW.html" class="link-menu activo">NEW</a>
        <a href="anillos.html" class="link-menu">Anillos</a>
        <a href="aretes.html" class="link-menu">Aretes</a>
        <a href="cadenas.html" class="link-menu">Cadenas</a>
        <a href="earcuffs.html" class="link-menu">Earcuffs</a>
        <a href="playa.html" class="link-menu">Playa</a>
        <a href="pulseras.html" class="link-menu">Pulseras</a>
        <a href="contacto.html" class="link-menu">Contacto</a>
        <a href="sobre-nosotras.html" class="link-menu">Sobre nosotras</a>
        <a href="carrito.html" class="link-menu">
            <i class="fas fa-shopping-cart"></i>
        </a>
    </nav>
</header>

<main class="categoria">
    <h2 class="subtitulo">NEW</h2>

    <!-- SETS -->
    <h3 class="subseccion">Set</h3>

    <div class="producto-set">
        <div class="producto-set-imagen">
            <img src="NUEVO ECLIPSE/SET/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 154.png" alt="Set Aura" />
        </div>
        <div class="producto-set-detalles">
            <h3>Set Aura</h3>
            <div class="opciones-set">
                <label>
                    <input type="checkbox" class="item-set" value="18000" data-nombre="Set Aura (Cadena)"> Cadena ($18.000)
                </label><br>
                <label>
                    <input type="checkbox" class="item-set" value="15000" data-nombre="Set Aura (Topos)"> Topos ($15.000)
                </label><br>
                <label>
                    <input type="checkbox" class="item-set" value="16000" data-nombre="Set Aura (Anillo)"> Anillo ($16.000)
                </label><br>
                <label>
                    <input type="checkbox" class="item-set" value="18000" data-nombre="Set Aura (Brazalete)"> Brazalete ($18.000)
                </label><br>
                <label>
                    <input type="checkbox" class="item-set" value="58000" data-nombre="Set Aura (Set completo)"> Set completo ($58.000)
                </label>
            </div>
            <p class="precio-set">Total: $0</p>
            <button class="boton-carrito-elegante" onclick="addSetToCart(this)">
                Agregar al carrito
            </button>
        </div>
    </div>

    <div class="producto-set">
        <div class="producto-set-imagen">
            <img src="NUEVO ECLIPSE/SET/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 153.png" alt="Set Solaris" />
        </div>
        <div class="producto-set-detalles">
            <h3>Set Solaris</h3>
            <p>$36.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Set Solaris', 36000, 'NUEVO ECLIPSE/SET/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 153.png')">Agregar al carrito</button>
        </div>
    </div>

    <!-- ANILLOS -->
    <h3 class="subseccion">Anillos</h3>
    <div class="productos-grid">
        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 126.png" alt="Anillo Destello" />
            <h3>Anillo Destello</h3>
            <p>$20.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Destello', 20000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 126.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 127.png" alt="Anillo Andrómeda" />
            <h3>Anillo Andrómeda</h3>
            <p>$25.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Andrómeda', 25000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 127.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 128.png" alt="Anillo Senda" />
            <h3>Anillo Senda</h3>
            <p>$34.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Senda', 34000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 128.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 129.png" alt="Anillo Mariposas" />
            <h3>Anillo Mariposas</h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Mariposas', 26000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 129.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 130.png" alt="Anillo Corazón Perlado" />
            <h3>Anillo Corazón Perlado</h3>
            <p>$22.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Corazón Perlado', 22000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 130.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 131.png" alt="Anillo Órbita" />
            <h3>Anillo Órbita</h3>
            <p>$22.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Órbita', 22000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 131.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 132.png" alt="Anillo Lazo de Amor" />
            <h3>Anillo Lazo de Amor</h3>
            <p>$24.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Anillo Lazo de Amor', 24000, 'NUEVO ECLIPSE/ANILLOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 132.png')">Agregar al carrito</button>
        </div>
    </div> <!-- cierre productos-grid ANILLOS -->

    <!-- ARETES -->
    <h3 class="subseccion">Aretes</h3>
    <div class="productos-grid">
        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 144.png" alt="Candongas Nova" />
            <h3>Candongas Nova</h3>
            <p>$28.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Candongas Nova', 28000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 144.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 145.png" alt="Aretes Esencia" />
            <h3>Aretes Esencia</h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Aretes Esencia', 26000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 145.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 146.png" alt="Candongas Perlas" />
            <h3>Candongas Perlas</h3>
            <p>$28.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Candongas Perlas', 28000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 146.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 148.png" alt="Candongas Fénix " />
            <h3>Candongas Fénix </h3>
            <p>$24.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Candongas Fénix ', 24000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 148.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 149.png" alt="Aretes Marea" />
            <h3>Aretes Marea</h3>
            <p>$20.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Aretes Marea', 20000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 149.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 150.png" alt="Aretes BiLover" />
            <h3>Aretes BiLover</h3>
            <p>$20.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Aretes BiLover', 20000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 150.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 151.png" alt="Aretes Gala " />
            <h3>Aretes Gala </h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Aretes Gala', 26000, 'NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 151.png')">Agregar al carrito</button>
        </div>


        <div class="producto-set doble">
            <div class="producto-set-imagen">
                <img src="NUEVO ECLIPSE/ARETES/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 152.png" alt="Set Candongas" />
            </div>
            <div class="producto-set-detalles">
                <h3>Set Candongas</h3>
                <div class="opciones-set">
                    <label>
                        <input type="checkbox" class="item-set" value="22000" data-nombre="Set Candongas (Grande)"> Grande ($22.000)
                    </label><br>
                    <label>
                        <input type="checkbox" class="item-set" value="20000" data-nombre="Set Candongas (Mediano)"> Mediano ($20.000)
                    </label><br>
                    <label>
                        <input type="checkbox" class="item-set" value="18000" data-nombre="Set Candongas (Pequeño)"> Pequeño ($18.000)
                    </label>
                </div>
                <p class="precio-set">Total: $0</p>
                <button class="boton-carrito-elegante" onclick="addSetToCart(this)">
                    Agregar al carrito
                </button>
            </div>
        </div>
    </div> <!-- cierre productos-grid ARETES -->

    <!-- CADENAS -->
    <h3 class="subseccion">Cadenas</h3>
    <div class="productos-grid">
        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 138.png" alt="Cadena Musa" />
            <h3>Cadena Musa</h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Cadena Musa', 26000, 'NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 138.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 139.png" alt="Cadena Nudo" />
            <h3>Cadena Nudo</h3>
            <p>$24.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Cadena Nudo', 24000, 'NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 139.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 140.png" alt="Cadena Hongo" />
            <h3>Cadena Hongo</h3>
            <p>$22.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Cadena Hongo', 22000, 'NUEVO ECLIPSE/CADENAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 140.png')">Agregar al carrito</button>
        </div>
    </div> <!-- cierre productos-grid CADENAS -->

    <!-- PULSERAS -->
    <h3 class="subseccion">Pulseras</h3>
    <div class="productos-grid">
        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 133.png" alt="Pulsera círculo Chunky" />
            <h3>Pulsera círculo Chunky</h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Pulsera círculo Chunky', 26000, 'NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 133.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 134.png" alt="Pulsera tú y yo" />
            <h3>Pulsera tú y yo</h3>
            <p>$30.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Pulsera tú y yo', 30000, 'NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 134.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 135.png" alt="Pulsera Gucci mini" />
            <h3>Pulsera Gucci mini</h3>
            <p>$22.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Pulsera Gucci mini', 22000, 'NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 135.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 136.png" alt="Pulsera Corazones" />
            <h3>Pulsera Corazones</h3>
            <p>$26.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Pulsera Corazones', 26000, 'NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 136.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 137.png" alt="Pulsera círculo mini" />
            <h3>Pulsera círculo mini</h3>
            <p>$20.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Pulsera círculo mini', 20000, 'NUEVO ECLIPSE/PULSERAS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 137.png')">Agregar al carrito</button>
        </div>
    </div> <!-- cierre productos-grid PULSERAS -->

    <!-- GANCHOS -->
    <h3 class="subseccion">Ganchos</h3>
    <div class="productos-grid">
        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 141.png" alt="Gancho Playa" />
            <h3>Gancho Playa</h3>
            <p>$15.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Gancho Playa', 15000, 'NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 141.png')">Agregar al carrito</button>
        </div>

        <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 142.png" alt="Gancho Cuadrados" />
            <h3>Gancho Cuadrados</h3>
            <p>$15.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Gancho Cuadrados', 15000, 'NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 142.png')">Agregar al carrito</button>
        </div>

         <div class="producto nuevo">
            <img src="NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 143.png" alt="Gancho Plano" />
            <h3>Gancho Plano</h3>
            <p>$15.000</p>
            <button class="boton-carrito-elegante" onclick="addToCart('Gancho Plano', 15000, 'NUEVO ECLIPSE/GANCHOS/Posteo de Instagram Frase Motivacional Magia Minimalista Rojo - 143.png')">Agregar al carrito</button>
        </div>
     </div> <!-- cierre productos-grid Ganchos -->
</main>

<a href="https://wa.me/573003578712" target="_blank" class="whatsapp-float">
    <img src="img/whatsapp-icon.png" alt="WhatsApp">
</a>

<a href="carrito.html" class="carrito-float" title="Ver carrito">
    <i class="fas fa-shopping-cart"></i>
    <span id="contador-carrito">0</span>
</a>

<script>
    // Se mantiene el script del header y del contador del carrito
    window.addEventListener("scroll", function () {
        const header = document.querySelector("header");
        header.classList.toggle("scrolled", window.scrollY > 50);
    });
    
    const currentPage = window.location.pathname.split("/").pop();
    document.querySelectorAll(".link-menu").forEach(link => {
        if (link.getAttribute("href") === currentPage) {
            link.classList.add("activo");
        }
    });
    
    function actualizarContadorCarrito() {
        const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
        const totalItems = carrito.reduce((acc, item) => acc + item.cantidad, 0);
        document.querySelectorAll("#contador-carrito, .contador-carrito").forEach(el => {
            el.textContent = totalItems;
            el.classList.remove("pop");
            void el.offsetWidth;
            el.classList.add("pop");
        });
    }
    
    document.addEventListener("DOMContentLoaded", actualizarContadorCarrito);

    // Lógica para los sets (solucionando el problema)
    const setContainers = document.querySelectorAll('.producto-set');
    setContainers.forEach(setContainer => {
        const checkboxes = setContainer.querySelectorAll('.item-set');
        const precioTexto = setContainer.querySelector('.precio-set');

        checkboxes.forEach(cb => {
            cb.addEventListener('change', () => {
                let total = 0;
                checkboxes.forEach(c => {
                    if (c.checked) {
                        total += parseInt(c.value);
                    }
                });
                precioTexto.textContent = "Total: $" + total.toLocaleString('es-CO');
            });
        });
    });

    // La función `addSetToCart` ahora usa el selector correcto
    function addSetToCart(button) {
        const setContainer = button.closest('.producto-set');
        const checkboxes = setContainer.querySelectorAll('.item-set:checked');
        const imagePath = setContainer.querySelector('img').src;
        
        if (checkboxes.length === 0) {
            alert("Por favor selecciona al menos un producto.");
            return;
        }

        checkboxes.forEach(cb => {
            const nombre = cb.dataset.nombre;
            const precio = parseInt(cb.value);
            addToCart(nombre, precio, imagePath);
        });
        alert("Productos agregados al carrito con éxito ✅");
    }

    // Esta función debe existir en tu archivo `carrito.js`
    function addToCart(nombre, precio, imagen) {
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        
        const itemExistente = carrito.find(item => item.nombre === nombre);
        
        if (itemExistente) {
            itemExistente.cantidad++;
        } else {
            carrito.push({
                nombre: nombre,
                precio: precio,
                imagen: imagen,
                cantidad: 1
            });
        }
        
        localStorage.setItem('carrito', JSON.stringify(carrito));
        actualizarContadorCarrito();
    }
</script>
</body>
</html>
